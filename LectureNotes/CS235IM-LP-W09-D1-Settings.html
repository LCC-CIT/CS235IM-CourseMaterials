<!DOCTYPE html><html>  <head>    <meta http-equiv="content-type" content="text/html; charset=UTF-8">    <meta>    <title>Settings</title>    <style type="text/css">body {  font-family: "Arial", "Helvetica", "sans-serif";}#week09 {  background-color: #f8ff2e;}code {  display:block;  font-size: larger;  background-color: lightgoldenrodyellow;  max-height:400px;  width:90%;  overflow:scroll;}.exercise {  background-color: #c6ffe2;}</style> </head>  <body>    <header>      <h1> <b>CS235IM, Mobile Application Development: iOS &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; </b></h1>      <h1><b> </b> </h1>      <div>        <h2>Application Settings and Preferences</h2>      </div>    </header>    <section>      <article> Weeks + Topics<b> </b>        <table style="width: 807px; height: 127px;" border="1">          <tbody>            <tr>              <td id="week01">1. Intro to iOS app dev with Xamarin<br>              </td>              <td id="week06">6. Multi-view apps <br>              </td>            </tr>            <tr>              <td id="week02">2. Events, Controls, and UI Constraints<br>              </td>              <td id="week07">7. Tab bars and pickers<br>              </td>            </tr>            <tr>              <td id="week03">3. More UI Controls<br>              </td>              <td id="week08">8. Table views </td>            </tr>            <tr>              <td id="week04">4. Adaptive Layout with Size Classes<br>              </td>              <td id="week09">9. Application Settings and Preferences<br>              </td>            </tr>            <tr>              <td id="week05">5. Start Term Project<br>              </td>              <td id="week10">10. Finish Term project<br>              </td>            </tr>          </tbody>        </table>      </article>      <article hidden="hidden">        <h2>Contents</h2>        <ul>          <b>            <li><a href="#topic1">Introduction</a></li>            <li><a href="#topic2"><span style="color: rgb(0, 0, 238);"><span style="text-decoration: underline;">Review</span></span></a></li>            <li><span style=" color: rgb(0, 0, 238);"><span style=" text-decoration: underline;"><a                    href="#topic3">Overview</a><br>                </span></span></li>            <li><a href="#topic4">Switching Views using code</a></li>            <li><span style=" color: rgb(0, 0, 238);"><span style="                  text-decoration: underline;"><a href="#topic5">Examples</a></span></span></li>            <li><a href="#topic6"><span style="  color: rgb(0, 0, 238);"><span style="                   text-decoration: underline;">Lab Assignment<br>                  </span></span></a></li>            <li><a href="#topic7"><span style="color: rgb(0, 0, 238);"><span style="text-decoration: underline;">References</span></span></a>            </li>          </b>        </ul>      </article>    </section>    <section> <br>      <h2> Intro</h2>      <ul>        <li> Show a few apps and how their settings are controlled through the <i>Settings            Application </i>that's built into iOS.</li>        <li>Demo the Bridge Control app (from Maskrey Ch. 12) and show it's          settings in the <i>Settings Application</i></li>      </ul>      <h2> Settings Bundle</h2>      <ul>        <li> A <i>settings bundle</i> (named <span style="font-family: Courier New,Courier,monospace;">Settings.bundle</span>)          is a group of files that are part of an app and are read by the iOS          Settings application so that the Settings application can manage user          preferences for that app.</li>        <li>Each settings bundle must contain <i>a property list</i> called          Root.plist that defines the root-level preferences.</li>        <li><i>Property lists</i> are are structured like dictionaries. </li>        <ul>          <li>Each entry describes a key-value pair</li>          <ul>            <li>Keys are shown in the <i>property</i> column and values are              shown in the <i>value</i> column</li>          </ul>          <li>The entries are called nodes.</li>        </ul>        <ul>          <ul>            <li>Nodes can be simple data types (<i>Boolean</i>, <i>Data</i>, <i>Date</i>,              <i>Number</i>, or <i>String</i>), or complex (<i>Array</i> or <i>Dictionary</i>)</li>            <li>The entries are called nodes, because the plist is actually an              XML file.</li>            <ul>              <li>Take a look at the underlying XML file by opening it in a code                editor</li>            </ul>          </ul>        </ul>        <li>The first item in the list must be an array with the property          "Preference Items". This array will contain all the preferences</li>        <ul>          <li>Preferences can be organized into groups. Start a new group by            adding a dictionary containing strings:</li>          <ul>            <li>Property = Preference Type, Value = Group</li>            <li>Property = Title, Value = A Title of Your Choice</li>          </ul>          <li>Each preference will be represented by an additional dictionary            node</li>          <ul>            <li>The first item will have the property "Preference Type".              Possible values include:</li>            <ul>              <li>Text Field</li>              <li>Multi Value</li>              <li>Toggle Switch</li>              <li>Slider</li>              <li>Child Pane</li>              <ul>                <li>This represents an additional plist containing more                  preferences</li>              </ul>            </ul>            <li>The second item will be a Title</li>          </ul>        </ul>      </ul>      <h2> Reading Settings in the Application</h2>      <ul>        <li>In a ViewController, override ViewWillAppear and add code to read          the user preferences<br>          <span style="font-family: Courier New,Courier,monospace;"></span></li>        <li><span style="font-family: Courier New,Courier,monospace;">NSUserDefaults</span>          is used to access the user's settings. <span style="font-family: Courier New,Courier,monospace;">NSUserDefaults</span>          is implemented as a singleton, which means one one instance (object)          is ever running in an application. To get access to that one instance,          we call the method <span style="font-family: Courier New,Courier,monospace;">StandardUserDefaults</span>,          like this:<br>          <br>          <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            NSUserDefaults defaults = NSUserDefaults.StandardUserDefaults();</code></li>      </ul>      <ul>        <li>Use the NSUser defaults object like a Dictionary. To get a value          from it, we can call <span style="font-family: Courier New,Courier,monospace;">intForKey()</span>          , <span style="font-family: Courier New,Courier,monospace;">floatForKey()</span>,          or <span style="font-family: Courier New,Courier,monospace;">boolForKey()</span>.          For example:<br>          <br>          <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            officerLabel.text = defaults.stringForKey("officer");</code></li>      </ul>      <ul>        <li> Some specifiers were used to interface objects for user          interaction. Those are the specifiers we are really interested in          because they hold the keys the real settings data.</li>      </ul>      <h2> Refreshing the settings in the application</h2>      <div style="margin-left: 40px;"> Hitting the Home button while an app is        running doesn't actually quit the app.<br>        Instead, the operating system suspends the app in the background</div>      <div style="margin-left: 40px;"><br>      </div>      <h2>References</h2>      <ul style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Arial, Helvetica, sans-serif; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; text-decoration: none;">        <li>Xamarin Guide: <a href="https://docs.microsoft.com/en-us/xamarin/ios/app-fundamentals/user-defaults"            target="_blank">Working            with User Defaults</a><a href="https://docs.microsoft.com/en-us/xamarin/ios/user-interface/controls/tables/"            target="_blank"><br>          </a></li>        <li>Apple Programming Guide:<span style="color: #0000ee;"> <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/UserDefaults/Introduction/Introduction.html#//apple_ref/doc/uid/10000059i"              target="_blank">Preferences              and Settings</a><br>          </span></li>        <li><em>Beginning iPhone Development</em>, Molly Maskrey, 2017<em></em><br>          Chapter 8: Application Settings and User Defaults</li>      </ul>      <ul>      </ul>    </section>    Back to <a href="https://lcc-cit.github.io/CS235IM-CourseMaterials/CS235IM_Syllabus.html"      target="_blank">Syllabus</a><br>    <hr>    <footer> <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img          alt="Creative Commons License"          style="border-width:0"          src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a><br>      <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Xamarin        iOS App Dev Lecture Notes</span> by <a xmlns:cc="http://creativecommons.org/ns#"        href="https://birdsbits.blog"        property="cc:attributionName"        rel="cc:attributionURL">Brian
        Bird</a>, 2018, is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative
        Commons Attribution 4.0 International License</a>. </footer>    <hr>  </body></html>